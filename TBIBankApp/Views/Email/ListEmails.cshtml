@model TBIBankApp.Models.Emails.EmailListModel


@{
    ViewData["Title"] = "Index";
}
<link rel="stylesheet" type="text/css" href="~/css/ListEmails.css" />


<div class="cm-md-12" id="customDIV">

    <table>
        <tr>
            <th>Email ID</th>
            <th>Recieved</th>
            <th>Sender</th>
            <th>Subject</th>
            <th>Body</th>
            <th>Status</th>

            <th>Change status</th>
        </tr>

        @foreach (var item in Model.EmailViewModels)
        {
            <tr>
                <td>@item.Id</td>
                <td>@item.RegisteredInDataBase</td>
                <td>@item.Sender</td>
                <td>@item.Subject</td>
                <td>
                    <div id="@item.Id" class="box">
                    <button type="button" id="@item.Id" onClick="GFG_click(this.id)" class="btn btn-primary custombuttonclass">Email preview</button>

                        <form id="@item.Id" class="nzdiw">
                            <label>@item.Body</label>
                            <button typy="submit" id="invalidButton" class="btn btn-primary">Invalid</button>
                            <button type="submit" id="newButton" class="btn btn-primary">New</button>
                        </form>
                    </div>
                </td>
                <td>@item.Status</td>
                <td>
                    <div class="nav-item">
                        <div class="dropdown">
                            <button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Change Status
                            </button>
                            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                <a class="nav-link text-dark" asp-controller="Email" asp-action="ChangeStatus" asp-route-id="@item.Id">Invalid application</a>
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        }
    </table>
</div>
<br />
<br />

<nav aria-label="Page navigation example">
    <div class="pagination">

        <a asp-controller="Email" asp-action="ListEmails" asp-route-Id="@Model.PreviousPage" asp-route-emailStatus="@Model.Status">
            <button type="submit" class="btn btn-primary">Previous</button>
        </a>

        <div class="page-item"><a class="page-link" id="currPage" href="#">@Model.CurrentPage</a></div>

        <a asp-controller="Email" asp-action="ListEmails" asp-route-Id="@Model.NextPage" asp-route-emailStatus="@Model.Status">
            <button type="submit" class="btn btn-primary">Next</button>
        </a>
    </div>
</nav>



<script src="~/lib/jquery/dist/jquery.js"></script>
<script src="~/js/listEmails.js"></script>